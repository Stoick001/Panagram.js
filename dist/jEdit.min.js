!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.jEdit={})}(this,function(t){"use strict";var i={defaultControls:[{icon:"<i>B</b>",title:"Bold",comName:"bold",state:!0},{icon:"<i>I</i>",title:"Italic",comName:"italic",state:!0},{icon:"<u>U</u>",title:"Underline",comName:"underline",state:!0},{icon:"<b>H<sub>1</sub></b>",title:"Heading 1",comName:"<h1>",formatBlock:"formatBlock"},{icon:"<b>H<sub>2</sub></b>",title:"Heading 2",comName:"<h2>",formatBlock:"formatBlock"},{icon:"&#8220; &#8221;",title:"Quote",comName:"<blockquote>",formatBlock:"formatBlock"},{icon:"&#35;",title:"Ordered List",comName:"insertOrderedList",state:!0},{icon:"&#8226;",title:"Unordered List",comName:"insertUnorderedList",state:!0},{icon:"&#128279;",title:"Link",comName:"createLink",extra:function(){return window.prompt("Enter the link URL")}},{icon:"&#128247;",title:"Image",comName:"insertImage",extra:function(){return window.prompt("Enter the link URL")}}]},c=function(t,e,o){t&&t.classList.toggle("active"),document.execCommand(e,!1,o||null)};t.init=function(t){var e=i[t.controls],n=t.ctrElement,o=t.outElement;o.contentEditable=!0,o.classList.add("output-el"),["click","touch"].forEach(function(t){n.addEventListener(t,function(t){o.focus()})}),o.addEventListener("keydown",function(t){if("Tab"===t.key)t.preventDefault();else if(t.ctrlKey&&"b"===t.key){var e=document.getSelection().anchorNode.parentNode,o=window.getComputedStyle(e).fontWeight;"bold"===(n=o)||"700"===n?document.querySelectorAll('[title="Bold"]')[0].classList.remove("active"):document.querySelectorAll('[title="Bold"]')[0].classList.add("active")}else"Enter"===t.key&&"blockquote"===document.queryCommandValue("formatBlock")&&(document.querySelectorAll('[title="Quote"]')[0].classList.toggle("active"),c(null,"formatBlock","<div>"));var n}),e.forEach(function(e){var o=document.createElement("button");o.innerHTML=e.icon,o.title=e.title,o.setAttribute("type","button"),o.classList.add("ctrl-btn"),["click","touch"].forEach(function(t){e.state?o.addEventListener(t,function(){return c(o,e.comName)}):e.formatBlock?o.addEventListener(t,function(){return c(null,e.formatBlock,e.comName)}):o.addEventListener(t,function(){var t=e.extra();t&&c(null,e.comName,t)})}),n.append(o)})},Object.defineProperty(t,"__esModule",{value:!0})});
